import{_ as l,r as o,o as p,c,a as n,e as t,d as a,b as s}from"./app.91a380bb.js";const u={},i=a(`<h1 id="\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> \u751F\u547D\u5468\u671F</h1><h2 id="app-\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#app-\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> app \u751F\u547D\u5468\u671F</h2><ul><li>\u5728\u63D2\u4EF6\u91CC\u9762\u76D1\u542C\u751F\u547D\u5468\u671F</li></ul><p><code>plugins/life-cycle.ts</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineNuxtPlugin</span><span class="token punctuation">(</span>nuxtApp <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u76D1\u542C\u751F\u547D\u5468\u671F</span>
  <span class="token comment">// server &amp; client \u5728\u521B\u5EFAvueApp \u5B9E\u4F8B\u65F6\u8C03\u7528</span>
  nuxtApp<span class="token punctuation">.</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token string">&#39;app:created&#39;</span><span class="token punctuation">,</span> vueApp <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;app:created&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// client \u5728\u6302\u8F7Dapp\u4E4B\u524D\u8C03\u7528</span>
  nuxtApp<span class="token punctuation">.</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token string">&#39;app:beforeMount&#39;</span><span class="token punctuation">,</span> nuxtApp <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;app:beforeMount&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// server &amp; client</span>
  nuxtApp<span class="token punctuation">.</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token string">&#39;vue:setup&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;vue:setup&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// server</span>
  nuxtApp<span class="token punctuation">.</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token string">&#39;app:rendered&#39;</span><span class="token punctuation">,</span> renderContext <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;app:rendered&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// client</span>
  nuxtApp<span class="token punctuation">.</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token string">&#39;app:mounted&#39;</span><span class="token punctuation">,</span> vueApp <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;app:mounted&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5728\u7EC4\u5EFA\u91CC\u9762\u53EA\u80FD\u76D1\u542C<code>vue:setup</code>\u4E4B\u540E\u7684\u751F\u547D\u5468\u671F</li></ul>`,6),d=n("thead",null,[n("tr",null,[n("th",null,"Hook"),n("th",null,"Arguments"),n("th",null,"Environment"),n("th",null,"Description")])],-1),r=n("tr",null,[n("td",null,[n("code",null,"app:created")]),n("td",null,[n("code",null,"vueApp")]),n("td",null,"Server & Client"),n("td",null,[s("Called when initial "),n("code",null,"vueApp"),s(" instance is created.")])],-1),h=n("tr",null,[n("td",null,[n("code",null,"app:error")]),n("td",null,[n("code",null,"err")]),n("td",null,"Server & Client"),n("td",null,"Called when a fatal error occurs.")],-1),_=n("tr",null,[n("td",null,[n("code",null,"app:error:cleared")]),n("td",null,[n("code",null,"{ redirect? }")]),n("td",null,"Server & Client"),n("td",null,"Called when a fatal error occurs.")],-1),k=n("tr",null,[n("td",null,[n("code",null,"app:data:refresh")]),n("td",null,[n("code",null,"keys?")]),n("td",null,"Server & Client"),n("td",null,"(internal)")],-1),v=n("tr",null,[n("td",null,[n("code",null,"vue:setup")]),n("td",null,"-"),n("td",null,"Server & Client"),n("td",null,"(internal)")],-1),m=n("td",null,[n("code",null,"vue:error")],-1),g=n("td",null,[n("code",null,"err, target, info")],-1),b=n("td",null,"Server & Client",-1),f=s("Called when a vue error propagates to the root component. "),C={href:"https://vuejs.org/api/composition-api-lifecycle.html#onerrorcaptured",target:"_blank",rel:"noopener noreferrer"},x=s("Learn More"),S=s("."),A=n("tr",null,[n("td",null,[n("code",null,"app:rendered")]),n("td",null,[n("code",null,"renderContext")]),n("td",null,"Server"),n("td",null,"Called when SSR rendering is done.")],-1),y=n("tr",null,[n("td",null,[n("code",null,"app:redirected")]),n("td",null,"-"),n("td",null,"Server"),n("td",null,"Called before SSR redirection.")],-1),w=n("tr",null,[n("td",null,[n("code",null,"app:beforeMount")]),n("td",null,[n("code",null,"vueApp")]),n("td",null,"Client"),n("td",null,"Called before mounting the app, called only on client side.")],-1),j=n("tr",null,[n("td",null,[n("code",null,"app:mounted")]),n("td",null,[n("code",null,"vueApp")]),n("td",null,"Client"),n("td",null,"Called when Vue app is initialized and mounted in browser.")],-1),M=n("td",null,[n("code",null,"app:suspense:resolve")],-1),N=n("td",null,[n("code",null,"appComponent")],-1),V=n("td",null,"Client",-1),L=s("On "),R={href:"https://vuejs.org/guide/built-ins/suspense.html#suspense",target:"_blank",rel:"noopener noreferrer"},B=s("Suspense"),E=s(" resolved event."),I=n("tr",null,[n("td",null,[n("code",null,"link:prefetch")]),n("td",null,[n("code",null,"to")]),n("td",null,"Client"),n("td",null,[s("Called when a "),n("code",null,"<NuxtLink>"),s(" is observed to be prefetched.")])],-1),U=n("td",null,[n("code",null,"page:start")],-1),z=n("td",null,[n("code",null,"pageComponent?")],-1),D=n("td",null,"Client",-1),H=s("Called on "),O={href:"https://vuejs.org/guide/built-ins/suspense.html#suspense",target:"_blank",rel:"noopener noreferrer"},P=s("Suspense"),T=s(" pending event."),q=n("td",null,[n("code",null,"page:finish")],-1),F=n("td",null,[n("code",null,"pageComponent?")],-1),G=n("td",null,"Client",-1),J=s("Called on "),K={href:"https://vuejs.org/guide/built-ins/suspense.html#suspense",target:"_blank",rel:"noopener noreferrer"},Q=s("Suspense"),W=s(" resolved event."),X=n("td",null,[n("code",null,"page:transition:finish")],-1),Y=n("td",null,[n("code",null,"pageComponent?")],-1),Z=n("td",null,"Client",-1),$=s("After page transition "),nn={href:"https://vuejs.org/guide/built-ins/transition.html#javascript-hooks",target:"_blank",rel:"noopener noreferrer"},sn=s("onAfterLeave"),en=s(" event."),tn=a('<h2 id="\u7EC4\u4EF6\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> \u7EC4\u4EF6\u751F\u547D\u5468\u671F</h2><h3 id="client" tabindex="-1"><a class="header-anchor" href="#client" aria-hidden="true">#</a> client</h3><ul><li>\u548C Vue \u7684\u751F\u547D\u5468\u671F\u4E00\u81F4</li></ul><h3 id="ssr" tabindex="-1"><a class="header-anchor" href="#ssr" aria-hidden="true">#</a> SSR</h3><ul><li>beforeCreate -&gt; setup</li><li>created</li></ul><p>\u56E0\u4E3A\u6CA1\u6709\u4EFB\u4F55\u52A8\u6001\u66F4\u65B0\uFF0C\u6240\u4EE5\u50CF<code>onMounted</code> \u6216\u8005<code>onUpdated</code> \u8FD9\u6837\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50<strong>\u4E0D\u4F1A</strong>\u5728 SSR \u671F\u95F4\u88AB\u8C03\u7528\uFF0C\u800C\u53EA\u4F1A\u5728\u5BA2\u6237\u7AEF\u8FD0\u884C.</p><p>\u4F60\u5E94\u8BE5\u907F\u514D\u5728 <code>setup()</code> \u6216\u8005 <code>&lt;script setup&gt;</code> \u7684\u6839\u4F5C\u7528\u57DF\u4E2D\u4F7F\u7528\u4F1A\u4EA7\u751F\u526F\u4F5C\u7528\u4E14\u9700\u8981\u88AB\u6E05\u7406\u7684\u4EE3\u7801\u3002\u8FD9\u7C7B\u526F\u4F5C\u7528\u7684\u5E38\u89C1\u4F8B\u5B50\u662F\u4F7F\u7528 <code>setInterval</code> \u8BBE\u7F6E\u5B9A\u65F6\u5668\u3002\u6211\u4EEC\u53EF\u80FD\u4F1A\u5728\u5BA2\u6237\u7AEF\u7279\u6709\u7684\u4EE3\u7801\u4E2D\u8BBE\u7F6E\u5B9A\u65F6\u5668\uFF0C\u7136\u540E\u5728<code>onBeforeUnmount</code> \u6216<code>onUnmounted</code> \u4E2D\u6E05\u9664\u3002\u7136\u800C\uFF0C\u7531\u4E8E unmount \u94A9\u5B50\u4E0D\u4F1A\u5728 SSR \u671F\u95F4\u88AB\u8C03\u7528\uFF0C\u6240\u4EE5\u5B9A\u65F6\u5668\u4F1A\u6C38\u8FDC\u5B58\u5728\u3002\u4E3A\u4E86\u907F\u514D\u8FD9\u79CD\u60C5\u51B5\uFF0C\u8BF7\u5C06\u542B\u6709\u526F\u4F5C\u7528\u7684\u4EE3\u7801\u653E\u5230<code>onMounted</code> \u4E2D\u3002</p>',7);function an(ln,on){const e=o("ExternalLinkIcon");return p(),c("div",null,[i,n("table",null,[d,n("tbody",null,[r,h,_,k,v,n("tr",null,[m,g,b,n("td",null,[f,n("a",C,[x,t(e)]),S])]),A,y,w,j,n("tr",null,[M,N,V,n("td",null,[L,n("a",R,[B,t(e)]),E])]),I,n("tr",null,[U,z,D,n("td",null,[H,n("a",O,[P,t(e)]),T])]),n("tr",null,[q,F,G,n("td",null,[J,n("a",K,[Q,t(e)]),W])]),n("tr",null,[X,Y,Z,n("td",null,[$,n("a",nn,[sn,t(e)]),en])])])]),tn])}const cn=l(u,[["render",an],["__file","lifecycle.html.vue"]]);export{cn as default};
